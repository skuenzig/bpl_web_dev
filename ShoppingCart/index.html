<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>VOTE 2016</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<link href="election.css" rel="stylesheet" type="text/css"></link>
    </head>
    <body id="top">

        <header>
		<div id="starsstripes">
		</div>
        </header>

	<section id="vote2016">
		 
		<form>
			Enter your name / email :<br>
			<input id="votername"  type="text" name="votername"  value="Name"><br>
			<input id="voteremail" type="text" name="voteremail" value="Email"><br>
		</form>
		<p>

		<!-- Choose candidate  -->
		<h1>Choose your candidate:</h1><br>
  		<div class="candidate-selector">

			<div id="candidatedonald" class="candidate">
 				<img id="donaldphoto" src="donald.jpg"/>
				<button id="votedonald" name="candidatename" value="trump">
				VOTE for Trump
				</button>
			</div>

			<div id="candidatebill" class="candidate">
 				<img id="billphoto" src="billthecat.jpg"/>
				<button id="votebill" name="candidatename" value="bill">
				VOTE for Bill
				</button>
			</div>
			
			<div id="candidatehillary" class="candidate">
  				<img id="hillaryphoto" src="hillary.jpg"/>
				<button id="votehillary" name="candidatename" value="clinton">
				VOTE for Clinton
				</button>
			</div>
		</div>


	</section>

<!-- Get & Display the values of the form -->
<script>

	/*  On change, validate the values entered 
		validation of email format etc
 
    */
		

    /* Validate Email function - only testing if there is a @ and . and 7 chars long */	
    function validateemail(email) {
        var atchar = email.includes("@");
	var atposition = email.indexOf("@");
	var dotchar = email.includes(".");
	var dotposition = email.indexOf(".");
	var length = email.length;

	if (email == "Email" || email == "") { 
		return true;
	}

	if (atchar &&
	    dotchar &&
	    atposition < dotposition &&
	    length >= 7) {
		return true;
        }
	else {
		return false;
	}
    };

    /* display headline */
    function displayheadline() {
	$("body").hide();
	$("body").css("background-image","url(headline.jpg)");
	$("body").css("background-repeat","no-repeat");
	}


    /* Donald button */
    $(document).ready(function() {

 	     $("#votedonald").on({
	    	mouseenter: function() {
		    $(this).animate({
		        left: '+=150px'
					});

	    	},
	    	click: function() {
		    alert("The election is rigged!");
		}
		});
	});

    /* Hillary button */
    $(document).ready(function() {

 	     $("#votehillary").on({
	    	mouseenter: function() {
		    $(this).animate({
		        left: '-=150px'
					});
	    	},
	    	click: function() {
		    alert("You are deplorable! *shimmy* *shimmy*");
		}
		});
	});

    /* Bill button */
    $(document).ready(function() {

 	     $("#votebill").on({
	    		click: function() {
			/* Get shipping address - input fields */
			var v_votername = $("#votername").val();
			var v_voteremail = $("#voteremail").val();
	
			if (v_votername == "Name") {
				v_votername = "";
			}

			/* Validate email if entered */

			if (!validateemail(v_voteremail)) {
				 alert("Invalid email format");
				 $("#voteremail").css("border","red");
			}
                	else {
				
				 $("#voteremail").css("border","black");
				 displayheadline();
			}

			}

		});
	});

</script>
</div>
    </body>
</html>